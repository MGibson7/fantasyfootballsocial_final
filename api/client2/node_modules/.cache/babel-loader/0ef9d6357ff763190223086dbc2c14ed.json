{"ast":null,"code":"var _jsxFileName = \"/home/thegibson/fantasyfootballsocial_final/client2/src/components/share/Share.jsx\",\n    _s = $RefreshSig$();\n\nimport \"./share.css\";\nimport { useContext, useRef, useState } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Share() {\n  _s();\n\n  const {\n    user\n  } = useContext(AuthContext);\n  const pf = process.env.REACT_APP_PUBLIC_FOLDER;\n  const desc = useRef();\n  const [file, setFile] = useState(null);\n\n  const submitHandler = async e => {\n    e.preventDefault();\n    const newPost = {\n      userId: user._id,\n      desc: desc.current.value\n    };\n\n    if (file) {\n      const data = new FormData();\n      const fileName = Date.now() + file.name;\n      data.append(\"name\", fileName);\n      data.append(\"file\", file);\n      newPost.img = fileName;\n\n      try {\n        await axios.post(\"/api/upload\", data);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n\n    try {\n      await axios.post(\"/api/posts\", newPost);\n      window.location.reload();\n    } catch (err) {}\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"share\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shareWrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shareTop\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"shareProfileImg\",\n          src: user.profilePicture ? pf + user.profilePicture : pf + \"football.png\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"What player do you want to talk about \" + user.username + \"?\",\n          className: \"shareInput\",\n          ref: desc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"shareHr\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this), file && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shareImgContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"shareImg\",\n          src: URL.createObjectURL(file),\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"shareCancelImg\",\n          onClick: () => setFile(null),\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"shareBottom\",\n        onSubmit: submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shareOptions\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"file\",\n            className: \"shareOption\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"shareMedia\",\n              src: \"/assets/video.webp\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"shareOptionText\",\n              children: \"Photo or Video\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                display: \"none\"\n              },\n              type: \"file\",\n              id: \"file\",\n              accept: \".png, .jpeg, .jpg, .webp\",\n              onChange: e => setFile(e.target.files[0])\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"shareButton\",\n          type: \"submit\",\n          children: \"Share\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Share, \"cC0WN0Qycy1whnUcsI6kPYl96UY=\");\n\n_c = Share;\n\nvar _c;\n\n$RefreshReg$(_c, \"Share\");","map":{"version":3,"names":["useContext","useRef","useState","AuthContext","axios","Share","user","pf","process","env","REACT_APP_PUBLIC_FOLDER","desc","file","setFile","submitHandler","e","preventDefault","newPost","userId","_id","current","value","data","FormData","fileName","Date","now","name","append","img","post","err","console","log","window","location","reload","profilePicture","username","URL","createObjectURL","display","target","files"],"sources":["/home/thegibson/fantasyfootballsocial_final/client2/src/components/share/Share.jsx"],"sourcesContent":["import \"./share.css\"\nimport {useContext, useRef, useState} from \"react\";\nimport {AuthContext} from \"../../context/AuthContext\"\nimport axios from \"axios\";\n\n\nexport default function Share() {\n\n    const{user} = useContext(AuthContext)\n    const pf = process.env.REACT_APP_PUBLIC_FOLDER\n    const desc = useRef()\n    const [file, setFile] = useState(null)\n\n    const submitHandler = async (e) =>{\n        e.preventDefault()\n        const newPost = {\n            userId: user._id,\n            desc: desc.current.value\n        }\n        if(file){\n            const data = new FormData();\n            const fileName = Date.now() +file.name\n            data.append(\"name\", fileName)\n            data.append(\"file\", file)\n            newPost.img = fileName\n            try{\n                await axios.post(\"/api/upload\", data)\n                \n\n            }catch(err){\n                console.log(err)\n            }\n        }\n\n        try{\n            await axios.post(\"/api/posts\", newPost)\n            window.location.reload()\n\n        }catch(err){\n\n        }\n    }\n\n\n\n  return (\n    <div className=\"share\">\n        <div className=\"shareWrapper\">\n            <div className=\"shareTop\">\n                <img className = \"shareProfileImg\" src={user.profilePicture ? pf + user.profilePicture : pf + \"football.png\"} alt=\"\" />\n                <input placeholder={\"What player do you want to talk about \"+user.username +\"?\"} className=\"shareInput\" ref = {desc}/>\n            </div>\n            <hr className=\"shareHr\" />\n            {file && (\n                <div className=\"shareImgContainer\">\n                    <img className = \"shareImg\" src={URL.createObjectURL(file)} alt=\"\" />\n                    <h3 className=\"shareCancelImg\" onClick = {()=>setFile(null)}>X</h3>\n                </div>\n            )}\n            <form className=\"shareBottom\" onSubmit={submitHandler}>\n                <div className=\"shareOptions\">\n                    <label  htmlFor = \"file\" className=\"shareOption\">\n                        <img className = \"shareMedia\" src=\"/assets/video.webp\" alt=\"\" />\n                        <span className=\"shareOptionText\">Photo or Video</span>\n                        <input style = {{display: \"none\"}} type=\"file\" id = \"file\"accept = \".png, .jpeg, .jpg, .webp\" onChange={(e) => setFile(e.target.files[0]) } />\n                    </label>\n                    \n                </div>\n                <button className=\"shareButton\" type = \"submit\">Share</button>\n\n            </form>\n        </div>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}